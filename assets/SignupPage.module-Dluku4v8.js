import{G as _,B as N,z as P,a as S,r as u,j as s,F as k,i as C,k as d,E as m,N as E,d as F,h as p,C as L,D as M,H as x,A as $,I as B}from"./index-BzAXU2Ie.js";function w(a){return _({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(a)}function g(a){return _({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(a)}const z="_form_cfymx_1",A="_title_cfymx_8",I="_label_cfymx_15",R="_input_cfymx_25",q="_inputError_cfymx_37",U="_invalid_cfymx_45",O="_passwordContainer_cfymx_50",D="_iconButton_cfymx_57",T="_errorMessage_cfymx_93",G="_button_cfymx_99",W="_navLink_cfymx_119",e={form:z,title:A,label:I,input:R,inputError:q,invalid:U,passwordContainer:O,iconButton:D,errorMessage:T,button:G,navLink:W},H=a=>F().shape({email:p().email("Invalid email address").required("Email is required"),password:p().min(8,"Password must be at least 8 characters").max(64,"Password must be maximum of 64 characters").required("Password is required"),...a&&{repeatPassword:p().oneOf([L("password")],"Passwords must match").required("Please confirm your password")}}),V=()=>{const{errors:a,submitCount:o}=M();return u.useEffect(()=>{o>0&&Object.keys(a).length>0&&Object.values(a).forEach(t=>{x.error(t)})},[a,o]),null},Y=()=>{const a=N(),o=P(),t=a.pathname==="/signup",h=S(),[i,j]=u.useState(!1),[c,y]=u.useState(!1),b=t?{email:"",password:"",repeatPassword:""}:{email:"",password:""},v=async(l,r)=>{try{const{repeatPassword:n,...f}=l;t?(await h($(f)).unwrap(),x.success("User is successfully registered"),o("/signin")):(await h(B(f)).unwrap(),x.success("User is successfully logged in")),r.resetForm()}catch(n){n.response&&n.response.data&&n.response.data.message?r.setStatus({serverError:n.response.data.message}):r.setFieldError("password","Password is wrong"),r.setSubmitting(!1)}};return s.jsx("div",{className:e.wrapper,children:s.jsx(k,{initialValues:b,validationSchema:H(t),onSubmit:v,enableReinitialize:!0,children:({isSubmitting:l,errors:r})=>s.jsxs(C,{autoComplete:"off",className:e.form,children:[s.jsx(V,{}),s.jsx("h2",{className:e.formTitle,children:t?"Sign Up":"Sign In"}),s.jsxs("label",{className:e.label,children:[s.jsx("span",{children:"Enter your email:"}),s.jsx(d,{className:`${e.input} ${r.email?e.invalid:""}`,autoComplete:"off",type:"text",name:"email",placeholder:"E-mail"}),s.jsx(m,{className:e.errorMessage,name:"email",component:"span"})]}),s.jsxs("label",{className:e.label,children:[s.jsx("span",{children:"Enter your password:"}),s.jsxs("div",{className:e.passwordContainer,children:[s.jsx(d,{autoComplete:"off",className:`${e.input} ${r.password?e.invalid:""}`,type:i?"text":"password",name:"password",placeholder:"Password"}),s.jsx("button",{type:"button",className:e.iconButton,onClick:()=>j(!i),children:i?s.jsx(g,{size:16}):s.jsx(w,{size:16})})]}),s.jsx(m,{className:e.errorMessage,name:"password",component:"span"})]}),t&&s.jsxs("label",{className:e.label,children:[s.jsx("span",{children:"Repeat Password:"}),s.jsxs("div",{className:e.passwordContainer,children:[s.jsx(d,{className:`${e.input} ${r.pasrepeatPassword?e.invalid:""}`,autoComplete:"off",type:c?"text":"password",name:"repeatPassword",placeholder:"Repeat Password"}),s.jsx("button",{type:"button",className:e.iconButton,onClick:()=>y(!c),children:c?s.jsx(g,{size:16}):s.jsx(w,{size:16})})]}),s.jsx(m,{className:e.errorMessage,name:"repeatPassword",component:"span"})]}),s.jsx("button",{className:e.button,type:"submit",disabled:l,children:t?"Sign Up":"Sign In"}),s.jsx("p",{className:e.signupText,children:s.jsx(E,{to:t?"/signin":"/signup",className:e.navLink,children:t?"Sign In":"Sign Up"})})]})})})},J="_sPageContainer_ydxn_1",K="_formSection_ydxn_16",Q="_error_ydxn_23",Z={sPageContainer:J,formSection:K,error:Q};export{Y as A,Z as c};
//# sourceMappingURL=SignupPage.module-Dluku4v8.js.map
